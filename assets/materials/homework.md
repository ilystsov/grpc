[Вернуться][main]

---

# Домашнее задание: "Python микросервисы с gRPC"

#### Цель задания: изучение основ работы с gRPC в контексте Python-приложений для построения распределенных микросервисов.

#### Задачи:

**1. Установка и настройка (1 балл):**

- Установите необходимые инструменты для работы с gRPC: `grpcio` и `grpcio-tools`.
- Настройте виртуальное окружение для вашего Python-проекта.

**2. Создание простого gRPC сервиса с одним методом (1 балл):**

- Используя Protocol Buffers, опишите службу с методом, который возвращает приветствие по имени.
- Реализуйте на Python сервер, выполняющий этот метод.
- Реализуйте клиент на Python, который вызывает этот метод и выводит результат.

**3. Добавление второго метода в сервис (1 балл):**

- Расширьте ваш gRPC сервис, добавив второй метод, вычисляющий сумму двух чисел.
- Адаптируйте сервер для поддержки нового метода.
- Модифицируйте клиент так, чтобы он мог вызывать как первый, так и второй метод.

**4. Обработка ошибок (1 балл):**

- Внедрите в вашу реализацию сервера обработку ожидаемых ошибок (например, невалидные входные данные).
- Добавьте в клиентскую часть код, который корректно реагирует на ошибки сервера.

**5. Логирование (1 балл):**

- Добавьте логирование на сервере и клиенте для отслеживания процесса вызова методов и обработки ошибок.

**6. Тестирование (1 балл):**

- Создайте тесты, проверяющие корректность работы каждого метода гарантируя, что система работает как ожидается на
  различных входных данных.

**7. Контейнеризация сервиса с использованием Docker (2 балла):**

- Создайте Dockerfile для вашего gRPC сервера.
- Соберите Docker-образ вашего сервиса и проверьте его работоспособность, запустив контейнер локально и CI github.
- Убедитесь, что клиент может успешно общаться с сервером, запущенным в контейнере. В документации к заданию опишите
  порядок действий для сборки и запуска контейнера.

**8. Развёртывание сервиса на Kubernetes (k8s) (2 балла):**

- Создайте конфигурацию для развертывания вашего сервиса в k8s (используйте Deployment для развертывания сервера и
  Service для обеспечения доступа к нему).
- Используя Minikube или любой другой доступный инструмент, разверните ваш gRPC сервер в локальном кластере Kubernetes.
- Проверьте доступность и корректность работы вашего сервиса из пода с клиентом в этом же кластере. Включите в отчёт по
  заданию описание успешного тестового вызова вашего сервиса из Kubernetes.

#### Критерии оценки:

- **Установка и настройка:** Правильность установки и настройки необходимого ПО.

- **Создание простого gRPC сервиса с одним методом:** Правильность реализации протокола, сервера и клиента.

- **Добавление второго метода в сервис:** Гибкость кода при добавлении нового функционала. Работоспособность обоих
  методов.

- **Обработка ошибок:** Умение предвидеть и правильно обрабатывать потенциальные ошибки.

- **Логирование:** Полнота и информативность логов.

- **Тестирование:** Тщательность и полнота тестового покрытия.

- **Контейнеризация сервиса с использованием Docker:** Корректность Dockerfile, успешная сборка и запуск образа,
  способность клиента общаться с сервером в контейнере.

- **Развертывание сервиса на Kubernetes (k8s):** Правильность конфигураций для Deployment и Service, успешное
  развертывание и стабильная работа сервиса в кластере k8s, а также возможность клиента взаимодействовать с сервисом.

#### Рекомендации:

- Старайтесь следовать принципам чистого кода и использовать лучшие практики разработки.
- Не пренебрегайте комментариями, особенно в комплексных или критичных местах кода.
- Помните о важности тестирования и логирования для обеспечения надёжности и отладки вашего сервиса.
- Экспериментируйте с различными функциями gRPC, чтобы лучше понять возможности этой технологии.
- При работе с Docker и Kubernetes обращайте внимание на безопасность, используйте best practices для минимизации
  потенциальных уязвимостей в контейнерах и кластере.
- Используйте логирование и мониторинг для отслеживания состояния вашего сервиса в контейнерах и в k8s, это поможет
  быстро находить и устранять возможные проблемы.
- Документируйте написанные конфигурации и созданные образы, это облегчит дальнейшую разработку и поддержку вашего
  сервиса.

Удачи в выполнении задания!


---

[Вернуться][main]

[main]: ../../README.md "содержание"
